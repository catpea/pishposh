<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘¹</text></svg>">
  <title>Subway Map Builder</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="container">
    <svg id="svg-canvas" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid meet">
      <g id="grid-layer"></g>
      <g id="connections-layer"></g>
      <g id="stations-layer"></g>
      <g id="labels-layer"></g>
      <g id="temp-layer"></g>
    </svg>
  </div>

  <script type="module">
    import { Application } from './Application.js';

    import { GridPlugin } from './plug-ins/GridPlugin.js';
    import { ToolboxPlugin } from './plug-ins/ToolboxPlugin.js';
    import { PanZoomPlugin } from './plug-ins/PanZoomPlugin.js';
    import { StationPlugin } from './plug-ins/StationPlugin.js';
    import { ConnectPlugin } from './plug-ins/ConnectPlugin.js';
    import { ConnectionLinePlugin } from './plug-ins/ConnectionLinePlugin.js';
    import { MoveStationPlugin } from './plug-ins/MoveStationPlugin.js';

    // Adding Agents
    import { AgentsPlugin } from './plug-ins/AgentsPlugin.js';
    import { AgentLibraryPlugin } from './plug-ins/AgentLibraryPlugin.js';
    import { AgentChooserPlugin } from './plug-ins/AgentChooserPlugin.js';
    import { PropertiesPanelPlugin } from './plug-ins/PropertiesPanelPlugin.js';

    const app = new Application(document.getElementById('svg-canvas'));

    app.use(new GridPlugin());
    app.use(new ToolboxPlugin());
    app.use(new PanZoomPlugin());
    app.use(new StationPlugin());
    app.use(new ConnectPlugin());
    app.use(new ConnectionLinePlugin());

    app.use(new MoveStationPlugin());

    // Agents
    app.use(new AgentLibraryPlugin());
    app.use(new AgentsPlugin());
    app.use(new AgentChooserPlugin());
    app.use(new PropertiesPanelPlugin());

    app.init();

    window.app = app; // for debugging

  </script>
</body>
</html>
